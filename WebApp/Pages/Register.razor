@page "/register"

@inject NavigationManager NavigationManager

<h3>Register</h3>

<form>
    <div class="form-group">
        <label for="displayname">Name:</label>
        <input id="displayname" type="text" class="form-control" @bind="@DisplayName" />
    </div>

    <div class="form-group">
        <label for="username">Username:</label>
        <input id="username" type="text" class="form-control" @bind="@Username" />
    </div>

    <div class="form-group">
        <label for="password">Password:</label>
        <input id="password" type="password" class="form-control" @bind="@Password" />
    </div>

    <div class="form-group">
        <label for="confirmPassword">Confirm Password:</label>
        <input id="confirmPassword" type="password" class="form-control" @bind="@ConfirmPassword" />
    </div>

    <div class="form-group">
        <label for="accountType">Account Type:</label>
        <select id="accountType" class="form-control" @bind="@AccountType">
            <option value="client">Client</option>
            <option value="freelancer">Freelancer</option>
        </select>
    </div>

    <button class="btn btn-primary" @onclick="HandleRegister">Register</button>
</form>

<p>Already have an account? <NavLink href="/login">Login</NavLink></p>

@code {
    private string DisplayName { get; set; }
    private string Username { get; set; }
    private string Password { get; set; }
    private string ConfirmPassword { get; set; }
    private string AccountType { get; set; }

    private void HandleRegister()
    {
        // Validar os campos e realizar a lógica de registro
        if (Password != ConfirmPassword)
        {
            // Exibir mensagem de erro de senhas diferentes
            return;
        }

        // Lógica de registro e criação do usuário

        if (AccountType == "client")
        {
            // Criar conta de cliente
        }
        else if (AccountType == "freelancer")
        {
            // Criar conta de freelancer
        }

        // Redirecionar para a página de login após o registro
        NavigationManager.NavigateTo("/");
    }
}
